(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["packages/piechart/piechart"],{

/***/ 19:
/*!********************************************!*\
  !*** ./src/packages/piechart/piechart.vue ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./piechart.vue?vue&type=template&id=6f7c625b&scoped=true& */ 20);
/* harmony import */ var _piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./piechart.vue?vue&type=script&lang=js& */ 22);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./piechart.vue?vue&type=style&index=0&id=6f7c625b&scoped=true&lang=css& */ 24);
/* harmony import */ var _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs





/* normalize component */

var component = Object(_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "6f7c625b",
  null,
  false,
  _piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "packages/piechart/piechart.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 20:
/*!***************************************************************************************!*\
  !*** ./src/packages/piechart/piechart.vue?vue&type=template&id=6f7c625b&scoped=true& ***!
  \***************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piechart.vue?vue&type=template&id=6f7c625b&scoped=true& */ 21);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_14_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_template_id_6f7c625b_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 21:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--14-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/packages/piechart/piechart.vue?vue&type=template&id=6f7c625b&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 22:
/*!*********************************************************************!*\
  !*** ./src/packages/piechart/piechart.vue?vue&type=script&lang=js& ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piechart.vue?vue&type=script&lang=js& */ 23);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 23:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/packages/piechart/piechart.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _mounted$props$mounte;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//
//
//
//
//
//
//
//
//
//
//
//
var _default2 = (_mounted$props$mounte = {
  mounted: function mounted() {},
  props: {
    //饼图的半径
    radius: {
      type: Number,
      default: 150
    },
    //触摸屏幕后，选中时的饼图的半径 ，大于等于饼图半径
    selectRadius: {
      type: Number,
      default: -1
    },
    //标题的文字大小
    titleFontSize: {
      type: Number,
      default: 13
    },
    //正常标题的颜色
    titleColor: {
      type: String,
      default: "#fff"
    },
    //选中的标题的颜色
    titleSelectColor: {
      type: String,
      default: "#fff"
    },
    //选中的单块拼图的背景颜色
    selectColor: {
      type: String,
      default: "#4BD0D8"
    },
    //绘图的线条颜色
    strokeStyle: {
      type: String,
      default: "#F8F8F8"
    },
    lineWidth: {
      type: Number,
      default: 0.5
    },
    //是否启用触摸点击
    isEnableTouch: {
      type: Boolean,
      default: true
    },
    //canvas背景色
    backgroundColor: {
      type: String,
      default: 'transparent'
    },
    //canvas背景图片链接
    backgroundImageUrl: {
      type: String,
      default: ''
    },
    pieChartData: {
      type: Array,
      default: function _default() {
        return [];
      }
    }
  }
}, _defineProperty(_mounted$props$mounte, "mounted", function mounted() {
  this.maxRadius = Math.max(this.radius, this.selectRadius);

  if (this.pieChartData.length > 0) {
    this.updatePieChart();
  }
}), _defineProperty(_mounted$props$mounte, "data", function data() {
  return {
    piechartList: [],
    canvasImg: null,
    selectIndex: -1,
    maxRadius: Math.max(this.radius, this.selectRadius)
  };
}), _defineProperty(_mounted$props$mounte, "watch", {
  pieChartData: function pieChartData() {
    // console.log('监听', this.pieChartData)
    this.updatePieChart();
  },
  radius: function radius() {
    // console.log('监听', this.radius)
    this.maxRadius = Math.max(this.radius, this.selectRadius);

    if (this.pieChartData.length > 0) {
      this.drawPieChart(-1);
    }
  },
  selectRadius: function selectRadius() {
    // console.log('监听', this.selectRadius)
    this.maxRadius = Math.max(this.radius, this.selectRadius);

    if (this.pieChartData.length > 0) {
      this.drawPieChart(-1);
    }
  }
}), _defineProperty(_mounted$props$mounte, "methods", {
  updatePieChart: function updatePieChart() {
    this.initData();
    this.drawPieChart(-1);
  },
  initData: function initData() {
    var piechartList = []; //从正上方开始算角度

    var startAngle = 1.5 * Math.PI;
    var endAngle = 0;
    var everyAngle = 1 / this.pieChartData.length * Math.PI * 2;
    var everyAngleInterval = 1 / this.pieChartData.length * 360;
    var startAngleInterval = 0;
    var endAngleInterval = 0;

    for (var i = 0; i < this.pieChartData.length; i++) {
      var chartData = this.pieChartData[i];
      endAngle = startAngle + everyAngle;
      endAngleInterval = startAngleInterval + everyAngleInterval;
      var item = {
        fillColor: chartData.colour,
        startAngle: startAngle,
        endAngle: endAngle,
        text: chartData.title,
        angleInterval: [startAngleInterval, endAngleInterval] //单个饼图的与正Y轴的角度区间

      };
      piechartList.push(item);
      startAngle = endAngle;
      startAngleInterval = endAngleInterval;
    }

    this.piechartList = piechartList;
  },
  canvasClick: function canvasClick(e) {
    // console.log(e)
    if (!this.isEnableTouch) {
      return;
    }

    var padding = this.maxRadius - this.radius;
    var originX = e.detail.x - padding;
    var originY = e.detail.y - padding;
    var that = this;
    var query = uni.createSelectorQuery().in(this);
    query.select('#canvasbgView').boundingClientRect(function (data) {
      // console.log("得到布局位置信息" , data);
      // console.log("节点离页面顶部的距离为");
      originX = originX - data.left;
      originY = originY - data.top; // console.log('---'+originX+"-++++"+originY)

      that.clickPieChartPosition(originX, originY);
    }).exec();
  },
  clickPieChartPosition: function clickPieChartPosition(originX, originY) {
    /*点击拼图获取对应的饼图的思路：
    1、判断点击位置是否落在饼图上，通过点击的位置，计算以饼图为圆心做为原点，算出与Y轴和X轴的距离，
    点击位置与原点的距离 = （Y轴距离的平方 + X轴距离的平方）的根号，点击位置与原点的距离 <= 饼图的半径，说明点击位置落在饼图上
    2、找出具体点击的是哪块饼图，通过点击的位置，用正切值来计算正切角度，从而计算出点击位置的与原点的正Y轴上的夹角，
    通过比较夹角是否落在饼图夹角范围，找出具体是那块饼图
    */
    var includedAngle = -1;

    if (originX < this.radius) {
      //左半部分的半圆
      if (originY > this.radius) {
        //说明点击的地方在圆心的正下方
        // 与饼图为圆心坐标的，距离的X轴的距离
        var positionY = originY - this.radius;
        var positionX = this.radius - originX; //计算点击点的圆的半径

        var clickRadius = Math.sqrt(Math.pow(positionX, 2) + Math.pow(positionY, 2));

        if (clickRadius < this.radius) {
          //点击点的半径小于饼图圆的半径，说明点击落在饼图上
          //计算与正方Y轴的夹角，通过正切值来求角度，因为点击点在X轴的下方，所以要+90度
          includedAngle = 270 - Math.atan(positionY / positionX) / (Math.PI / 180); // console.log('与正Y轴的角的度数:'+includedAngle)
        } else {// console.log('点击不落在饼图上')
        } // console.log(clickRadius)

      } else if (originY < this.radius) {
        // 与饼图为圆心坐标的，距离的X轴的距离
        var _positionY = this.radius - originY;

        var _positionX = this.radius - originX; //说明点击的地方在圆心的正上方


        var _clickRadius = Math.sqrt(Math.pow(_positionX, 2) + Math.pow(_positionY, 2));

        if (_clickRadius < this.radius) {
          //点击点的半径小于饼图圆的半径，说明点击落在饼图上
          //计算与正方Y轴的夹角，通过正切值来求角度，因为点击点在X轴的上方，所以要90度-正切的角度
          includedAngle = 270 + Math.atan(_positionY / _positionX) / (Math.PI / 180); // console.log('与正Y轴的角的度数:'+includedAngle)
        } else {// console.log('点击不落在饼图上')
        } // console.log(clickRadius)

      } else {
        includedAngle = 90;
      }
    } else {
      //右半部分的半圆
      if (originY > this.radius) {
        //说明点击的地方在圆心的正下方
        // 与饼图为圆心坐标的，距离的X轴的距离
        var _positionY2 = originY - this.radius;

        var _positionX2 = originX - this.radius; //计算点击点的圆的半径


        var _clickRadius2 = Math.sqrt(Math.pow(_positionX2, 2) + Math.pow(_positionY2, 2));

        if (_clickRadius2 < this.radius) {
          //点击点的半径小于饼图圆的半径，说明点击落在饼图上
          //计算与正方Y轴的夹角，通过正切值来求角度，因为点击点在X轴的下方，所以要+90度
          includedAngle = Math.atan(_positionY2 / _positionX2) / (Math.PI / 180) + 90; // console.log('与正Y轴的角的度数:'+includedAngle)
        } else {// console.log('点击不落在饼图上')
        } // console.log(clickRadius)

      } else if (originY < this.radius) {
        // 与饼图为圆心坐标的，距离的X轴的距离
        var _positionY3 = this.radius - originY;

        var _positionX3 = originX - this.radius; //说明点击的地方在圆心的正上方


        var _clickRadius3 = Math.sqrt(Math.pow(_positionX3, 2) + Math.pow(_positionY3, 2));

        if (_clickRadius3 < this.radius) {
          //点击点的半径小于饼图圆的半径，说明点击落在饼图上
          //计算与正方Y轴的夹角，通过正切值来求角度，因为点击点在X轴的上方，所以要90度-正切的角度
          includedAngle = 90 - Math.atan(_positionY3 / _positionX3) / (Math.PI / 180); // console.log('与正Y轴的角的度数:'+includedAngle)
        } else {// console.log('点击不落在饼图上')
        } // console.log(clickRadius)

      } else {
        includedAngle = 90;
      }
    }

    if (includedAngle >= 0) {
      this.clickPieChart(includedAngle);
    }
  },
  clickPieChart: function clickPieChart(angle) {
    for (var i = 0; i < this.piechartList.length; i++) {
      var item = this.piechartList[i];
      var angleInterval = item.angleInterval;

      if (angleInterval[0] < angle && angleInterval[1] >= angle) {
        if (this.selectIndex === i) {
          return;
        }

        this.selectIndex = i;

        if (i < this.pieChartData.length) {
          var selectObj = this.pieChartData[i];
          this.$emit('touchPieChart', selectObj, i);
          this.drawPieChart(i); // console.log("点击拼图：" + selectObj.valName)
        }

        break;
      }
    }
  },
  drawPieChart: function drawPieChart(index) {
    var ctx = uni.createCanvasContext('piechartCanvas', this);
    ctx.width = this.maxRadius * 2;
    ctx.height = this.maxRadius * 2; //清除画布，需要设置画布的背景颜色，才能达到清除效果

    ctx.clearRect(0, 0, this.maxRadius * 2, this.maxRadius * 2);
    var imageUrl = this.backgroundImageUrl || "";

    if (imageUrl.length > 0) {}

    for (var i = 0; i < this.piechartList.length; i++) {
      ctx.save();
      var item = this.piechartList[i];
      ctx.beginPath();
      ctx.moveTo(this.maxRadius, this.maxRadius);
      var fillColor = item.fillColor;
      var radius = this.radius; //点击选择的效果

      if (index === i) {
        fillColor = this.selectColor;
        radius = this.maxRadius;
      }

      ctx.fillStyle = fillColor;
      ctx.arc(this.maxRadius, this.maxRadius, radius, item.startAngle, item.endAngle, false);
      ctx.fill();
      ctx.closePath();

      if (this.piechartList.length !== 1) {
        ctx.lineWidth = this.lineWidth;
        ctx.strokeStyle = this.strokeStyle;
        ctx.strok;
        ctx.stroke(); //绘制线条
      }

      ctx.restore();
    } //每个瓣状的角度


    var angle = 360 / this.piechartList.length;

    for (var i = 0; i < this.piechartList.length; i++) {
      var text = this.piechartList[i].text;
      ctx.save(); //设置字体颜色
      //点击选择的效果

      if (index === i) {
        ctx.fillStyle = this.titleSelectColor;
      } else {
        ctx.fillStyle = this.titleColor;
      } //设置字体的大小


      ctx.setFontSize(this.titleFontSize);
      var textWidth = ctx.measureText(text).width;

      if (this.piechartList.length === 1) {
        //只有一个的时候，文本居中显示
        ctx.fillText(text, this.maxRadius - textWidth / 2.0, this.maxRadius);
      } else {
        //设置画布的旋转中心
        ctx.translate(this.maxRadius, this.maxRadius); //旋转角度，angle/2+3 为了显示在瓣状的中间，angle*i 度数计算， -90 为了从竖直正上方开始显示

        var rotate1 = (angle / 2 + 5 + angle * i - 90) * Math.PI / 180;
        ctx.rotate(rotate1); //设置文本，和文本的位置

        ctx.fillText(text, this.radius / 2.0 - textWidth / 2.0 + 20, 0);
      }

      ctx.restore();
    }

    var that = this;

    if (index === -1 && this.pieChartData.length > 0) {
      ctx.draw(true, function () {
        uni.canvasToTempFilePath({
          canvasId: 'piechartCanvas',
          quality: 1,
          success: function success(res) {
            // 在H5平台下，tempFilePath 为 base64
            that.canvasImg = res.tempFilePath;
            that.$emit('canvasScreenshot', res.tempFilePath);
            console.log('------' + res.tempFilePath);
          },
          fail: function fail(response) {
            console.log(response);
          }
        }, that);
      });
    } else {
      ctx.draw();
    }
  }
}), _mounted$props$mounte);

exports.default = _default2;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 24:
/*!*****************************************************************************************************!*\
  !*** ./src/packages/piechart/piechart.vue?vue&type=style&index=0&id=6f7c625b&scoped=true&lang=css& ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./piechart.vue?vue&type=style&index=0&id=6f7c625b&scoped=true&lang=css& */ 25);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_piechart_vue_vue_type_style_index_0_id_6f7c625b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 25:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/packages/piechart/piechart.vue?vue&type=style&index=0&id=6f7c625b&scoped=true&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/packages/piechart/piechart.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'packages/piechart/piechart-create-component',
    {
        'packages/piechart/piechart-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(19))
        })
    },
    [['packages/piechart/piechart-create-component']]
]);
